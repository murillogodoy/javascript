<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Requisição XMLHttpRequest</title>
</head>
<body>
    <h1>Imagens Aleatórios de Cachorros</h1>
	<p>A partir do click no botão abaixo uma nova imagem aleatória de cachorros será carregada utilizando requisições assíncronas com XMLHttpRequest</p>

	<img id="img_dog" src="" alt="Aguardando a imagem ser carregada" />
	<br/>
	<button onclick="carregarImagens()">Carregar Imagens</button>
</body>
    <script type="text/javascript">
	
    function carregarImagens(){
    
        var url = "https://api.thecatapi.com/v1/images/search?limit=10"
        fetch(url, {
            method: 'get'
        })
        .then(function(response) {
            response.json().then(function(data){
                console.log('Resultado da Requisição: ' + data.message);

                var imgCat = document.getElementById("img_cat");
                imgCat.src = data.message;
            });
        })
        .catch(function(err) {
            console.error('O seguinte erro ocorreu durante a requisição: ' + err);
        });

    }
    </script>
</html>